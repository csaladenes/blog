/*!
 * WalkMe
 * http://www.walkme.com/
 *
 * Copyright 2012, WalkMe ltd
 */
function WalkmeSnippet(){function r(){try{window._walkmeInternals=window._walkmeInternals||{},F=_walkmeInternals,F.snippetLog=[],e("ish");var r="false";if(F.isSelfHosted="true"===r,e("ssm"),w(),C=new p,C.cdnServerName.indexOf("###AUTO_DETECT###")>-1&&(e("lad"),P=O(C.cdnServerName.replace("###AUTO_DETECT###","")),C=_(C)),e("lsu"),D=g(),C=h(C),e("cli"),1!=window.walkme_load_in_iframe&&top!=window)return;if(e("cuc"),!v()){try{e("bns"),walkme_browser_not_supported()}catch(i){}return}e("exl");var o=window[d()],a=F.blocked;if(e("lsl"),t(),e("ipm"),!m()&&(e("clt"),window.document.dontLoadTriangle))return e("bsl"),window.walkme_snippet_blocked=!0,F.blocked=!0,void(F.continueLoad=n);if(e("slb"),o&&!a)try{e("slt"),console.log("WalkMe Snippet was loaded twice")}catch(i){}}catch(i){_walkmeSnippetError("Error in ctor before loadSettings",i)}try{e("lss"),n(),e("eok")}catch(i){_walkmeSnippetError("Error calling loadSettings",i)}}function e(r){F.snippetLog.push(r)}function t(){var r=d();window[r]=R}function n(){if(window.walkme_custom_settings_data)e("lso"),i(walkme_custom_settings_data);else{e("lsp");try{y(D,null,F.isSelfHosted,"fixedCallback",i)}catch(r){_walkmeSnippetError("Error loadSettings-addScriptToDocument",r)}}}function i(r){try{if(!m()&&window.document.dontLoadTriangle)return F.blocked=!0,void(F.continueLoad=function(){o(r)});e("cls")}catch(t){_walkmeSnippetError("Error settingsLoaded - before calling continueSettingsLoaded",t)}try{o(r)}catch(t){_walkmeSnippetError("Error settingsLoaded - calling continueSettingsLoaded",t)}}function o(r){try{x=_(r);var e=window.walkme_settings_callback;e&&e(x);var t=I("walkme_is_enabled_override");if(void 0!==t){if("0"===t)return}else if(!r.IsEnabled)return}catch(n){_walkmeSnippetError("Error continueSettingsLoaded - before calling loadjQuery",n)}try{a(r.jQueryFile)}catch(n){_walkmeSnippetError("Error continueSettingsLoaded - calling loadjQuery",n)}}function a(r){if(window.walkme_custom_jquery)window.mtjQuery=walkme_custom_jquery,s();else{try{var e=f("walkmeCustomjQueryUrl");if(0!=e&&(r=e),F.localJQuery){var t=r.lastIndexOf("/"),n=r.substring(t+1);r="https://localhost/mt/resources/"+n}}catch(i){_walkmeSnippetError("Error loadjQuery - before addScriptToDocument",i)}try{y(r,s)}catch(i){_walkmeSnippetError("Error loadjQuery - before addScriptToDocument",i)}}}function s(){try{if(void 0==window.mtjQuery)return;if(M)return;M=!0,window.walkme_custom_jquery||mtjQuery.noConflict()}catch(r){_walkmeSnippetError("Error jQueryScriptLoaded - before document ready",r)}try{mtjQuery(document).ready(function(){try{l(x)}catch(e){_walkmeSnippetError("Error jQueryScriptLoaded - document ready",r)}})}catch(r){_walkmeSnippetError("Error jQueryScriptLoaded - calling document ready",r)}}function c(){var r;F.localLib&&(r="https://localhost/mt/lib/maketutorial_lib.js");var e=f("walkmeCustomeLibUrl");return 0!=e?e:r}function l(r){try{var e=f("wm-prelibjs");e&&(r.PreLibJsFile=e)}catch(t){_walkmeSnippetError("Error handlePreLibJs - getting preLibJs",t)}if(r.PreLibJsFile&&""!=r.PreLibJsFile)try{window.walkme_pre_lib_loaded=function(){u(r)},y(r.PreLibJsFile)}catch(t){_walkmeSnippetError("Error handlePreLibJs - addScriptToDocument",t)}else try{u(r)}catch(t){_walkmeSnippetError("Error handlePreLibJs - loadLib",t)}}function u(r){try{var e=c()||r.LibFile}catch(t){_walkmeSnippetError("Error loadLib - calculateLibUrl",t)}try{y(e)}catch(t){_walkmeSnippetError("Error loadLib - addScriptToDocument",t)}}function d(){return m()?"wmPreviewSnippet":"wmSnippet"}function w(){var r="###IS_PREVIEW_MODE###";"true"===r&&(W=U.preview)}function m(){return W==U.preview}function p(){this.recorderServer="###RECORDER_SERVER_NAME###",this.cdnServerName="https://cdn.walkme.com",this.storage="jstorage",this.userGuids=["0aac71e3a3104246a8e5c19679e4d887"],window.walkme_custom_cdn_server&&(this.cdnServerName=walkme_custom_cdn_server),window.walkme_custom_app_server&&(this.recorderServer=walkme_custom_app_server),this.triangleUrl=window.walkme_custom_data_url?walkme_custom_data_url:this.cdnServerName+"###SPECIAL_TRIANGLE_FILE###",this.datafilesArray=window.walkme_custom_datafile_url?walkme_custom_datafile_url:"###SPECIAL_DATA_FILE###",this.widgetUrl=window.walkme_custom_widget_url?walkme_custom_widget_url:"###SPECIAL_WIDGET_FILE###"}function g(){var r="walkme_custom_user_settings_",e="https://s3.amazonaws.com/s3.maketutorial.com/users/0aac71e3a3104246a8e5c19679e4d887/test/settings.txt",t=I(r+"url",!0),n=I(r+"guid",!0),i=I(r+"env",!0);return t&&(e=t),n&&(e=e.replace(/(users\/)([^\/]*)(\/)/,"$1"+n+"$3")),(i||""===i)&&(i&&(i+="/"),e=e.replace(/(users\/[^\/]*\/)(.*)(sett)/,"$1"+i+"$3")),_(e)}function _(r){return void 0==P?r:A(r,function(r){return r.replace("###AUTO_DETECT###",P)})}function S(r){var e,t,n,i=document.cookie.split(";");for(e=0;e<i.length;e++)if(t=i[e].substr(0,i[e].indexOf("=")),n=i[e].substr(i[e].indexOf("=")+1),t=t.replace(/^\s+|\s+$/g,""),t==r)return n;return!1}function f(r){if(N){var e=N.getItem(r);if(null!=e)return e}return!1}function h(r){return r}function v(){var r=I("walkme_dont_check_browser");if("1"===r||m())return!0;var e=b(),t=E();return e&&t}function E(){var r=/android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)/i.test(navigator.userAgent||navigator.vendor||window.opera),e=Math.max(screen.width,screen.height),t=Math.min(screen.width,screen.height),n=800>e||600>t;return!r&&!n}function b(){var r={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(r){for(var e=0;e<r.length;e++){var t=r[e].string,n=r[e].prop;if(this.versionSearchString=r[e].versionSearch||r[e].identity,t){if(-1!=t.indexOf(r[e].subString))return r[e].identity}else if(n)return r[e].identity}},searchVersion:function(r){var e=r.indexOf(this.versionSearchString);if(-1!=e)return parseFloat(r.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};if(r.init(),"Chrome"==r.browser||"Firefox"==r.browser||"Safari"==r.browser&&"Windows"!=r.OS)return!0;if("Explorer"==r.browser&&r.version>=7)return!0;try{e("icb"),console.log("WalkMe: Incompatible browser.")}catch(t){}return!1}function y(r,e,t,n,i){try{var o=document.createElement("script");o.async=!0,t&&(r+=(-1==r.indexOf("?")?"?":"&")+"_wmts="+T()),o.src=r,o.id="mt_script",e&&(o.onload=e,o.onreadystatechange=e),L(n,i),k().appendChild(o)}catch(a){var s=encodeURIComponent(r);_walkmeSnippetError("Error addScriptToDocument - "+s,a)}}function k(){return j||(j=document.getElementsByTagName("head")[0]),j}function L(r,e){if(r&&e){var t=window[r];window[r]=function(n){try{window[r]=t,e(n)}catch(i){_walkmeSnippetError("Error scriptLoadedCallback - "+r,i)}}}}function T(){return(new Date).getTime()}function O(r){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var n=e[t],i=n.src;if(i&&i.indexOf("walkme_")>0){if(r){var t=i.indexOf(r);return i.substr(0,t)}var t=i.indexOf("walkme_");return i.substr(0,t-1)}}return""}function A(r,e){if("string"==typeof r)return e(r);if("[object Array]"===Object.prototype.toString.call(r)){for(var t=0;t<r.length;t++)r[t]=A(r[t],e);return r}if("object"==typeof r){for(var t in r)Object.hasOwnProperty.call(r,t)&&(r[t]=A(r[t],e));return r}return r}function I(r,e){var t=e?f(r):S(r);if(t!==!1)return t;var n=window[r];return void 0!=n?n:void 0}try{var j,x,C,D,P,F,N,R=this,M=!1,Q="24a",U={publish:0,preview:1},W=U.publish;try{N=window.localStorage,f("wm-test")}catch(V){return void _walkmeSnippetError("Error in setting localStorage",V)}this.getSnippetVersion=function(){return Q},this.getSettingsFile=function(){return x},this.getServerSettings=function(){return C},this.fixAutoDetectPaths=_}catch(V){_walkmeSnippetError("Error settings entire class",V)}try{setTimeout(r,0)}catch(V){_walkmeSnippetError("Error setting ctor timeout",V)}}window._walkmeSnippetError=function(r,e){try{var t="https://dwd2g9z8s4iw2.cloudfront.net/wm_sm.png",n=encodeURIComponent(window.location.href.substr(0,100)),i=t+"?reason="+r+"&url="+n+"&cache="+(new Date).getTime();if(e&&e.message&&(i+="&exception="+e.message),window._walkmeInternals&&_walkmeInternals.snippetLog){var o=_walkmeInternals.snippetLog.join();i+="&snptLogs="+o}var a=document.createElement("img");a.src=i}catch(s){}};try{new WalkmeSnippet}catch(e){_walkmeSnippetError("Error creating new WalkmeSnippet()",e)}